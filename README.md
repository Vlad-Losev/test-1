# Базовая Gulp-сборка
## Команды
- `npm i` - установка зависимостей
- `npm run start`/`npm run dev` - запуск проекта
- `npm run build` - сборка проекта

## Описание
Данная сборка содержит в себе набор компонентов, которые наиболее часто встречаются в проектах **Uralmedias**. Используя их процесс разработки существенно ускоряется, поскольку основные элементы построения сайта уже реализованы.
**Компонент** - это по сути миксин, который вызывается в разных частях сайта.
Преимущество компонентного подхода заключается в существенном сокращении дублирования кода. Компонент можно редактиовать в одном месте, а изменения произойдут во всем проекте сразу. 

Набор компонентов находится по пути *./src/components* и содержит в себе кнопки, поля, ссылки, основы для наиболее распростряненных блоков и тому подобное. Проще говоря - "скелет" сайта.
Компонент состоит из миксина и стилей к нему. Также при необходимости в папку компонента добавляется JS файл. 

Для того, чтобы вызвать нужный компонент в верстке вашей страницы, необходимо:
1. в файле *./src/components/mixins.pug* импортировать ваш компонент. 
1. в файле со стилями страницы ипортировать стили компонента.
1. в файле со скриптами страницы импортировать скрипты компонента.
1. затем в верстке необходимо вызвать компонент следующим образом: `+componentName`
1. при необходимости компонентам можно задавать входные параметры, что делает компоненты более гибкими в использовании.

Посмотреть как выглядят те или иные элементы базовой сборки вы можете перейдя на страницу *http://localhost:3000/ui-kit.html*

## Полезная информация.
### Создание страниц
Создание страниц происходит следующим образом:
1. В папке *./src/html/pages* создать новыую папку с именем новой страницы.
1. Далее в созданной папке создать файл *index.pug*
1. В файле вначале подключить *layout* (*header*, *footer*, *popups*, *cookie* и т.д.) следующим образом `extends ../common/layout`
1. Затем необходимо подключить страницы стилей и скриптов, предварительно создав их. 
    1. В папке *./src/styles* создается файл стилей страницы *name.page.scss*. В этот файл в дальнейшем импортируются стили компонентов, которые будут присутствовать на данной странице.
    1. В папке *./src/scripts* создается файл со скриптами страницы *name.js*. В этот файл в дальнейшем импортируются скрипты компонентов, которые будут присутствовать на данной странице. Также важно внести изменения в файл *./gulp/tasks/js.js* (26 строка). `"pagename.page": "././src/scripts/pagename.js"`
1. Пример подключения стилей и скриптов к странице в *index.pug*:
    ```pug
    block append head
        link(href="/styles/pagename.page.min.css" rel="stylesheet")

    block append scripts
        script(src="/scripts/pagename.page.min.js")
    ```
1. Ниже идет следующий код 
    ```pug
    block content
        main.p-namepage
    ```
### Наименование классов
1. Наименование страниц происходит по данному шаблону: `p-названиестраницы`;
2. Именование классов компонентов или иных элементов проекта: `um-названиеэлемента`;
3. Также важно помнить, что наименование любых элементов проекта происходит по методологии БЭМ (блок, элемент и модификатор). Если вы не ознакомлены с данной методологией, вам следует сделать это. 

### Типы стилей и скриптов
Стили и скрипты делятся на 2 типа: глобальные и для страницы. 
1. **Глобальные стили** - это стили компонентов, которые встречаются практически на всех страницах сайта, и подключать их к каждой странице нет смысла. Они подключаются в файле *gen.scss*, после чего стили данных файлов распространяются на весь сайт.
1. **Стили для страницы** - это стили компонента или блока, которые нужны только на текущей странице. Либо встречаются в нескольких местах на сайте. Не стоит такими стилями нагружать остальные страницы, прописывая их глобально, так как это влияет на скорость работы сайта в дальнейшем.

Также если блок встречается только на одной странице, не стоит выносить его в компонент. Такой блок следует создавать в верстке страницы и прописывать к нему стили в файлк со стилями страницы. 